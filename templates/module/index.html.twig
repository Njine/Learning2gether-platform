{% extends 'base.html.twig' %}

{% block title %}{{ module.getTitle(language) }}{% endblock %}

{% block breadcrumbs %}
    <li class="breadcrumb-item"><a class="crumb crumb-link" href="{{ path('portal') }}">{{ 'Learning Hub'|trans }}</a></li>
    {% for crumb in module.learnerBreadcrumbs(app.user.language) %}
        {{ include('partials/breadcrumbs.html.twig') }}
    {% endfor %}
{% endblock %}

{% block body %}

    <div class="example-wrapper">

        <h1 class="title-css">{{ module.getTitle(language) }}</h1>

        <a href="{{ path('forum') }}"><button class="btn btn-default button_4chap btnchap">{{ 'Forum' | trans }}</button></a>

        <section id="chapter-overview">
            {% if module.getUserChapters(app.user)|length > 0 %}
            {% for userChapter in module.getUserChapters(app.user) %}

                <div class="container chapcontainer">
                    <div class="row"><h3>{{ userChapter.chapter.getTitle(language) }}</h3></div>
                    <div class="row chapcard">
                        <div class="chapinfo">
                            <div class="row">
                                <div class="col-10"><h5>{{ userChapter.chapter.getDescription(language) }}</h5></div>
                            </div>
                        </div>
                    </div>

                    <div class="row chapbutton_2">
                        {% if userChapter.isUnlocked() %}
                            <a class="btn btn-default button_5" href="{{ path('module_view_page',
                                {'chapterPage': userChapter.chapter.getFirstPage().id}) }}">
                                {{ 'Follow this chapter' | trans }}
                            </a>
                        {% else %}
                            <a class="btn btn-default button_5 disabled" style="width: 165px" href="{{ path('module_view_page',
                                {'chapterPage': userChapter.chapter.getFirstPage().id}) }}">
                                {{ 'Locked' | trans }}
                            </a>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
            <div class="vertical-line"></div>

        </section>
        {% else %}
            <p>{{ 'no chapters yet' | trans }}!</p>
        {% endif %}
    </div>
{% endblock %}
